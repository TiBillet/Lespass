{% extends "admin/change_form.html" %}

{% block field_sets %}

    {% if original is not None and original.full_url|length > 0 %}
        <div class="flex flex-col gap-4 w-full lg:flex-row">
            <a href="{{ original.full_url }}" onclick="copyLinkToClipboard(event)" class="prevent-link bg-primary-600 flex flex-row font-medium gap-2 items-center h-[38px] justify-center px-3 py-2 rounded-default text-white lg:w-auto">
                <span class="material-symbols-outlined text-white">content_copy</span> {{ _("Copy the public url of the event") }}
            </a>
            <div id="tooltip-default" class="transition px-3 py-2 text-white duration-300 bg-dark opacity-0">{{ _("Copied !") }}</div>
        </div>
    {% endif %}

    {{ block.super }}

{% endblock %}

{% block extrahead %}
    {{ block.super }}
    <script>
        // Prevent link default behaviour and copy its href to clipboard
        function copyLinkToClipboard(e){
            e.preventDefault();
            navigator.clipboard.writeText(e.target.getAttribute('href'));
            document.querySelector('#tooltip-default').classList.remove("opacity-0")
            setTimeout(()=>{
                document.querySelector('#tooltip-default').classList.add("opacity-0")
            },1000)
        }
    </script>
    <style>
        html.dark #tooltip-default{
            color:white;
        }
        #tooltip-default{
            color:black;
        }
    </style>
{% endblock %}
