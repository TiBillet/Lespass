{% load static %}
{% load static i18n %}
<header class="header-background">
	<div class="header-img" onclick="window.location = 'pv_route?uuid_pv={{pv.id}}&tag_id_cm={{card.tag_id}}'">
		<img class="pointer" alt="TiBillet" src="{% static 'images/icon-complet-blanc.svg' %}" />
	</div>
	<div class="header-status">
		<div id="header-status-info1">info1</div>
		<div id="header-status-info2">info2</div>
	</div>
	<div id="header-title" hx-trigger="load" hx-get="show_pv?uuid_pv={{pv.id}}" hx-target="main" hx-swap="innerHTML">
		<div>{% translate "SERVICE DIRECT" %} - {{ pv.name }} </div>
	</div>
	<div class="header-menu pointer" hx-trigger="click" hx-get="main_menu?uuid_pv={{pv.id}}&tag_id_cm={{card.tag_id}}"
		hx-target="#menu-burger-container" hx-swap="innerHTML" hx-on::after-request="showMenuBurger()">&#9776;</div>
</header>
<nav id="menu-burger-container" class="hide"></nav>
<script>
	window.showMenuBurger = function () {
		document.querySelector('#menu-burger-container').classList.remove('hide')
	}
	window.hideMenuBurger = function () {
		document.querySelector('#menu-burger-container').classList.add('hide')
	}
	document.addEventListener('click', (event) => {
		const classRep = event.target.className
		if (!classRep.includes('menu-burger-item-content') && classRep !== 'header-menu pointer') {
			hideMenuBurger()
		}

	})
</script>

<style>
	.header-background {
		--header-height: 65px;
		--header-img-width: 112px;
		--header-status-width: 40px;
		--header-menu-width: 56px;
		--header-add-img-status: calc(var(--header-img-width) + var(--header-status-width));
		--header-add-img-status-menu: calc(var(--header-add-img-status) + var(--header-menu-width));

		width: 100%;
		height: var(--header-height);
		background-color: var(--bleu09);
		display: flex;
		flex-direction: row;
		justify-content: space-arround;
		align-items: center;
		color: var(--blanc01);
	}

	.header-img {
		width: var(--header-img-width);
		cursor: pointer;
	}

	.header-status {
		width: var(--header-status-width);
		height: 100%;
		display: flex;
		flex-direction: column;
		justify-content: flex-end;
		align-items: center;
		background-color: var(--vert01);
	}

	#header-title {
		width: calc(100% - var(--header-add-img-status-menu));
		height: 100%;
		display: flex;
		flex-direction: row;
		justify-content: center;
		align-items: center;
		background-color: var(--bleu05);
		font-size: calc(0.5rem + 1.5vw);
	}

	.header-menu {
		width: var(--header-menu-width);
		height: 100%;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		font-size: 4rem;
		cursor: pointer;
	}

	#menu-burger-container {
		font-size: calc(0.5rem + 1.5vw);
		position: absolute;
		top: calc(var(--header-height) + 2);
		right: 0;
		background-color: var(--bleu09);
	}

	.menu-burger-item {
		min-width: 300px;
		height: 60px;
		display: flex;
		flex-direction: row;
		justify-content: flex-start;
		align-items: center;
		border-bottom: 1px solid var(--gris01);
		color: var(--blanc01);
		cursor: pointer;
		overflow: hidden;
		padding-left: 10px;
		padding-right: 10px;
	}

	.menu-burger-item i {
		padding-right: 6px;
	}
</style>